{"version":3,"sources":["StreamlitVisGraph.tsx","index.tsx"],"names":["StreamlitVisGraph","_StreamlitComponentBa","_getPrototypeOf2","_this","_classCallCheck","this","_len","arguments","length","args","Array","_key","_possibleConstructorReturn","_getPrototypeOf","call","apply","concat","render","graph","JSON","parse","props","nodes","slice","i","title","div","htmlTitle","options","events","selectNode","event","Streamlit","setComponentValue","doubleClick","console","log","link","lookup_node","mynodes","_step","_iterator","_createForOfIteratorHelper","s","n","done","node","value","id","err","e","f","lookup_node_id","innerHTML","window","open","React","createElement","VisGraph","getNetwork","network","html","container","document","_inherits","StreamlitComponentBase","withStreamlitConnection","ReactDOM","StrictMode","StreamlitProvider","getElementById"],"mappings":"mvCAM+C,IAGzCA,EAAiB,SAAAC,GAAA,SAAAD,IAAA,IAAAE,EAAAC,EAAAC,YAAAC,KAAAL,GAAA,QAAAM,EAAAC,UAAAC,OAAAC,EAAA,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAAF,EAAAE,GAAAJ,UAAAI,GAyDpB,OAzDoBR,EAAAS,YAAAP,MAAAH,EAAAW,YAAAb,IAAAc,KAAAC,MAAAb,EAAA,CAAAG,MAAAW,OAAAP,MAEdQ,OAAS,WAad,IAJA,IAAIC,EAAQC,KAAKC,MAAMjB,EAAKkB,MAAMZ,KAAW,MAEzCa,EAAQJ,EAAMI,MAAMC,QAEfC,EAAI,EAAGA,EAAIF,EAAMd,OAAQgB,IAC7BF,EAAME,GAAGC,QACVH,EAAME,GAAGE,IAAMvB,EAAKwB,UAAUL,EAAME,GAAGC,QAG3C,IAAMG,EAAUT,KAAKC,MAAMjB,EAAKkB,MAAMZ,KAAa,QAE7CoB,EAAS,CAEbC,WAAY,SAACC,GACXC,YAAUC,kBAAkBF,EAAMT,MAAM,KAG1CY,YAAa,SAACH,GACZI,QAAQC,IAAIL,EAAMT,OAElB,IACIe,EA5BR,SAAwBC,EAAaC,GAAQ,IACnBC,EADmBC,EAAAC,EAC1BH,GAAO,IAAxB,IAAAE,EAAAE,MAAAH,EAAAC,EAAAG,KAAAC,MAAyB,KAAhBC,EAAIN,EAAAO,MACT,GAAID,EAAKE,KAAOV,EACZ,OAAOQ,GAEhB,MAAAG,GAAAR,EAAAS,EAAAD,GAAA,QAAAR,EAAAU,KAsBqBC,CAAerB,EAAMT,MAAM,GAAIA,GAC1BI,IAAI2B,UACxBhB,GACDiB,OAAOC,KAAKlB,KAIlB,OACEmB,IAAAC,cAAA,YAEAD,IAAAC,cAACC,IAAQ,CACTxC,MAAOA,EACPU,QAASA,EACTC,OAAQA,EACR8B,WAAY,SAACC,SAMhBzD,EAEOwB,UAAY,SAACkC,GACnB,IAAMC,EAAYC,SAASN,cAAc,OAEzC,OADAK,EAAUT,UAAYQ,EACfC,GACR3D,EAAA,OAzDoB6D,YAAAhE,EAAAC,GAyDpBD,EAzDoB,CAASiE,0BA4DjBC,oCAAwBlE,GC/DvCmE,IAASlD,OACPuC,IAAAC,cAACD,IAAMY,WAAU,KACfZ,IAAAC,cAACY,oBAAiB,KAChBb,IAAAC,cAACzD,EAAiB,QAGtB+D,SAASO,eAAe","file":"static/js/main.29914ed7.chunk.js","sourcesContent":["import {\n  Streamlit,\n  StreamlitComponentBase,\n  withStreamlitConnection,\n} from \"streamlit-component-lib\"\nimport React, { ReactNode } from \"react\"\nimport VisGraph from 'react-vis-graph-wrapper';\n\n\nclass StreamlitVisGraph extends StreamlitComponentBase {\n\n  public render = (): ReactNode => {\n\n    function lookup_node_id(lookup_node, mynodes){\n      for (let node of mynodes){\n          if (node.id === lookup_node){\n              return node;\n          }\n    }}\n\n    var graph = JSON.parse(this.props.args[\"data\"]);\n    \n    var nodes = graph.nodes.slice();\n\n    for (let i = 0; i < nodes.length; i++) {\n      if(nodes[i].title)\n        nodes[i].div = this.htmlTitle(nodes[i].title);\n    }\n  \n    const options = JSON.parse(this.props.args[\"config\"]);\n\n    const events = {\n\n      selectNode: (event:any) => {\n        Streamlit.setComponentValue(event.nodes[0]);\n      },\n\n      doubleClick: (event:any) => {\n        console.log(event.nodes);\n        // let link = nodes;\n        let lookup_node = lookup_node_id(event.nodes[0], nodes);\n        let link = lookup_node.div.innerHTML;\n        if(link){\n          window.open(link);\n        }\n      }\n    };\n    return (\n      <span>\n    \n      <VisGraph\n      graph={graph}\n      options={options}\n      events={events}\n      getNetwork={(network: any) => {\n        //  if you want access to vis.js network api you can set the state in a parent component using this property\n        //console.log(network);\n      }}/>\n      </span>\n    )\n  }\n\n  private htmlTitle = (html):any => {   \n    const container = document.createElement(\"div\");\n    container.innerHTML = html;\n    return container;\n  }\n}\n\nexport default withStreamlitConnection(StreamlitVisGraph)\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { StreamlitProvider } from \"streamlit-component-lib-react-hooks\"\nimport StreamlitVisGraph from \"./StreamlitVisGraph\"\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <StreamlitProvider>\n      <StreamlitVisGraph/>\n    </StreamlitProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n)\n"],"sourceRoot":""}